@model List<Software_Engineering_Project.Models.MeetingModel>

@{
    ViewData["Title"] = "Meeting";
}

<!-- Stylesheet connection for TeacherHome page -->
@section Styles {
    <link rel="stylesheet" href="~/css/Meeting_style.css" />
    <link rel="stylesheet" href="~/css/NavbarStyle.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.1.1/css/all.css"> <!--added latest realese of fa-->
    <script src="~/js/BurgerMenu.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
}



<section>
    <div class="content" >

    <!-- Top Navigation Menu -->
    <div class="topnav" >
     <picture> 
            <img src ="@Url.Content("~/images/unipi_logo.png")" />
     </picture> 
     <div class="menu_burger">
     <div class="menu" id="bmenu">       
        <a class="link" href="#">Home</a>
        <a class="link" href="#">Appointments</a>
        <a class="link" asp-controller="Teacher" asp-action="StudentHandler" asp-route-username="@Model">Students</a>        
        <a class="link" asp-controller="Teacher" asp-action="Profile" asp-route-username="@Model">Profile</a>
     </div>
     <div class="burger">
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
            <i class="fa fa-bars fa-xxl"></i>    
        </a>
     </div>
     </div>      
    </div>
    


        <div class="container">
            
            <div class="info">

            <div class="calendar">
                
                <div class="month">

                    <i class="fas fa-angle-left prev"></i>
                    <div class="date">
                        <h1></h1>
                        <p></p>
                    </div>
                    <i class="fas fa-angle-right next"></i>
                </div>
                <div class="weekdays">
                    <div>Sun</div>
                    <div>Mon</div>
                    <div>Tue</div>
                    <div>Wed</div>
                    <div>Thu</div>
                    <div>Fri</div>
                    <div>Sat</div>
                </div>
                <div class="days">
                </div>
                
                <input type="submit" value="Schedule Meeting" class="btn btn-primary" onclick="window.location.href='Teacher/AddMeeting' " />
                <a  asp-controller="Teacher" asp-action="AddMeeting" asp-route-username="@ViewBag.Username" >
                    Schedule Meeting
                </a>
            </div>
            <!--<a asp-controller="Teacher" asp-action="AddMeeting" asp-route-username="@ViewBag.Username" class="btn btn-primary"> Schedule Meeting</a>-->

            </div>

            <div class="dialog" id="dialog" title="Basic dialog">
                <div class="dialogtext" id="dialogtext">
                    <i class="fa-solid fa-circle-xmark fa-2xl" onclick="closePopup()"></i>
                    <h2>Date</h2>
                    <p>events of the day</p>
                    <p>@ViewBag.Username</p>
                    <form asp-controller="Teacher" asp-action="SearchMeeting" asp-route-username="@ViewBag.Username"></form>
                    @if(Model!=null)
                    {
                        <table class="tbl">
					    @foreach (var item in Model) {
					        <tr>
						        <th>Student Id</th>
                                <th>Date and Time</th>
                                <th>Duration</th>
                                <th>Type</th>
                                <th>Title</th>
						        
					        </tr>
					        <tr>
						        <td> @item.Student</td>
						        <td> @item.DateTime</td> <!-- shows utc time so we should add 3 hours-->
                                <td> @item.Duration</td>
                                <td> @item.Type</td>
                                <td> @item.Description</td>
					        </tr>
					    }
                        </table>
                    } else
                    {
                        <p>No meetings on this date!</p>
                    }



                </div>
            </div>

        </div>


               <!-- Image Container -->
         <div class="image-container">
            <div class="panel left-panel">
                <img src="@Url.Content("~/images/Meeting_img.png")" alt="" class="image" />
            </div>
         </div>
    </div>

    <script src="~/js/Meeting.js"></script> <!--woudn't work with script on the styles section-->
</section>
